---
import Navigation from "../components/Navigation.astro";
---

<header class="header__wrapper">
    <div class="header__logo">
        <a href="/"> <img src="/src/assets/POWERJET HPWJS_Logo-white.svg" /></a>
    </div>

    <nav class="header__nav">
        <!-- Hamburger button (mobile only) -->
        <button class="header__mobile-hamburger" aria-label="Toggle menu">
            <span></span>
            <span></span>
            <span></span>
        </button>

         <!-- Mobile menu overlay -->
        <div class="header__mobile-menu">
            <Navigation />
        </div>

        <!-- Desktop navigation -->
         <div class="header__desktop-nav">
        <Navigation />
         </div>
    </nav>
</header>

<style>
    /* header styles */

    /* hide desktop nav on mobile */
    .header__desktop-nav {
        display: none;
    }

    .header__wrapper {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem;
        background-color: var(--pj_brand_blue);
        box-shadow: inset 0 -1px 0 var(--pj_grey_10);
    }

    .header__logo {
        height: auto;
        z-index: 1001; /* Above menu */

    }

    .header__logo img {
        height: 64px;
    }

     .header__nav {
        position: relative;
    }

    .header__mobile-hamburger {
        display: flex;
        flex-direction: column;
        gap: 4px;
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 8px;
        z-index: 1001; /* Above menu */
        position: relative;
    }

    .header__mobile-hamburger span {
        display: block;
        width: 24px;
        height: 2px;
        background-color: white;
        transition: all 0.3s;
    }

    /* Hamburger animation when active */
    .header__mobile-hamburger.active span:nth-child(1) {
        transform: rotate(45deg) translate(4px, 5px);
    }

    .header__mobile-hamburger.active span:nth-child(2) {
        opacity: 0;
    }

    .header__mobile-hamburger.active span:nth-child(3) {
        transform: rotate(-45deg) translate(4px, -5px);
    }

     /* Mobile menu overlay - hidden by default */
    .header__mobile-menu {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: var(--pj_blue_90);

         /* Hidden by default */
        transform: translateY(100%);
        transition: transform 0.3s ease;

         /* Content positioning */
        display: flex;
        flex-direction: column;
        cursor: pointer;
        padding: 2rem;
        z-index: 1000;

    }

    /* Show menu when active */
    .header__mobile-menu.active {
        transform: translateY(0);
    }

    .header__mobile-menu :global(.nav__links) {
        display: flex;
        flex-direction: column;
        gap: 2rem;
        margin-top: 8rem;
        z-index: 1003;
    }


    .header__mobile-menu :global(.nav__links ul) {
        flex-direction: column;
        gap: 2.4rem;
        
    }

    .header__mobile-menu :global(.nav__links a) {
        font-size: 3rem;
        font-weight: 500;

        color: var(--pj_blue_10);
        gap: 2rem;

        border-bottom: solid 1px var(--pj_blue_10);
        padding-bottom: 0.75rem;
        
    }


    @media screen and (min-width: 768px) {

        .header__desktop-nav {
            display: block
        }

        .header__mobile-hamburger, .header__mobile-menu {
            display: none;
        }
    }

</style>

<script>
    function toggleMenu() {
        const mobileMenu = document.querySelector(".header__mobile-menu");
        const hamburger = document.querySelector(".header__mobile-hamburger");
        
        mobileMenu?.classList.toggle("active");
        hamburger?.classList.toggle("active");
        
        // Prevent body scroll when menu is open
        document.body.style.overflow = mobileMenu?.classList.contains("active") 
            ? "hidden" 
            : "";
    }

    // Attach event listener after DOM is loaded
    document.addEventListener("DOMContentLoaded", () => {
        const hamburger = document.querySelector(".header__mobile-hamburger");
        hamburger?.addEventListener("click", toggleMenu);
        
        // Close menu when clicking nav links
        const navLinks = document.querySelectorAll(".header__mobile-menu a");
        navLinks.forEach(link => {
            link.addEventListener("click", () => {
                toggleMenu();
            });
        });
    });
</script>
